I'm working on a project where I need to secure a specific content field in Apache Solr by encrypting the data during indexing and decrypting it during search. First approach: I've already attempted to implement a custom UpdateRequestProcessorFactory and a search component, but I'm facing challenges in achieving the desired encryption and decryption. Second approach: I have also tried with another approach i.e How to create a custom search component in solr In second approach, solr is not storing the content in encrypted form. Also when I pass the keyword in analysis section (UI), it properly encrypts and decrypts the data. Is there any tried and tested way to implement such scenario. For the first approach I tried following code:
Here encryption is working fine but not decryption. responseBuilder.getResponseDocs() returns null. In second approach I have added fieldType and custom classes. The problem with second approach is the logs are printed for encryption but encrypted data is not stored. And when I search the data using /select it does not call decryption logic.