I was creating a simple Time Monitoring System that records the Time In and Time out of the user and record it in a txt file named "time_monitoring.txt". Now, whenever I run the app in my phone, which is an Android 13, it shows that the write permission was denied. Here's my AndroidManifest.xml: Here's my MainActivity.java: Here's my activity_main.xml: This is what I expect to happen, when I click the Time In or Time Out button, it will add something like this in the "time_monitoring.txt": Time In: 11/30/2023 06:43:15. This is for READ_EXTERNAL_STORAGE . This is for WRITE_EXTERNAL_STORAGE , which is not the same thing as READ_EXTERNAL_STORAGE . getExternalFilesDir() does not require any permissions. So, the simple solution is to stick with that and get rid of your READ_EXTERNAL_STORAGE manifest entry and your requestPermissions() call for WRITE_EXTERNAL_STORAGE . there are two things to keep in mind
1.Check Permission Before Using Features:
Ensure you check whether the permission is granted before performing operations that require it. The code in recordTime is executing regardless of whether the permission is granted. You might want to check the permission status before attempting to write to the file:
2.Check Permission Again After Request:
After requesting permissions, you might want to check the result in onRequestPermissionsResult and proceed with the file operations only if the permission is granted.