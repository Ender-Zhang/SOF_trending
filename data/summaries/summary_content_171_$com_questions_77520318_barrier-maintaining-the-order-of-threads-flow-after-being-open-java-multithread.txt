Let's assume, that there is a constant flow of threads going through my java code. I would like to stop them and then resume in such way that in my flow the order of threads will stay the same. I declare those variables in some part of my code (that block of code is run by one thread): Here is my barrier that should count and stop all the threads. Then, I would want the threads to resume in the same order in which they reach the barrier, so I do: That should release threads from my mutex semaphore in the right order. HOWEVER I had to change my flag,