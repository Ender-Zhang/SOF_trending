legaci ejb applic origin develop java deploy webspher decad ago recent upgrad java version webspher version applic work fine howev encount peculiar issu relat specif stateless session bean bean annot gener physic issu occur batch job start first creat bean applic attempt use bean get follow except applic creat bean first batch job use everyth work expect xdoclet gener code narrow code alreadi gener xdoclet ca edit code tri chang gener logic base ibm webspher suggest batch job start fail start applic creat bean environ java version webspher version specif issu tie usag gener physic xdoclet except occur batch job initi bean applic question could caus classcastexcept batch job start first ensur compat scenario applic initi bean first batch job insight suggest solut would greatli appreci thank code fail classcastexcept call anytim remot ejb look name perform often code work without narrow orb attempt narrow automat alway work depend classpath client time lookup first lookup stub classpath get ejbhom stub unfortunt end cach name may effect client well alway perform narrow avoid issu sinc jndi lookup return mean jndi name remot home thread context classload access target class referencedatabeanhom sinc orb unabl load return instead must narrow especi curiou scenario code contain call narrow call suggest return fals sinc home look remot home narrowto class implement extend therefor method return true narrow perform recommend check follow check batch job code path call lookuphom proper remot jndi name proper remot home class batch job code pass remot home jndi name local home interfac class narrow would alway skip applic may work properli orb proactiv narrow due earlier lookup anoth applic check class packag applic otherwis includ applic classpath basic need determin narrowto paramet lookuphom fail isinst check could happen load two differ classload determin isinst return fals best solut altern could make sure class packag batch applic may allow orb proactiv narrow howev seem like workaround