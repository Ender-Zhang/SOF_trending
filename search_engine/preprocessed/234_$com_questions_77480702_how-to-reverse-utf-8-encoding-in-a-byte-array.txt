follow problem certain produc send protobuf messag binari data byte array binari data enter misconfigur kafka cluster deseri byte array string cluster serial data string send consum unsuspect consum expect receiv binari byte array instead get encod mess tri reproduc junit test let say follow proto file wrote follow test produc creat protobuf messag msg encod byte array bytessentbyproduc misconfigur kafka cluster receiv byte array deseri string datareceivedinsidemisconfiguredkafka serial string datasenttoconsum send consum encod corrupt binari data call result except convers byte array back messag work uncorrupt byte array bytessentbyproduc bytessentbyproduc question possibl convert datasenttoconsum bytessentbyproduc ye fix issu part control consum undo encod happen insid misconfigur kafka cluster note obviou solut configur kafka cluster properli consum work fine anoth environ normal kafka cluster strang transform obviou easiest solut avail bureaucrat reason tri approach result except approach far know variou byte pattern charact charact etc assum somewher insid stringdeseri stringseri binari data modifi conform rule provid transform revers one could manipul bit get origin messag hate bearer bad news want imposs key point complet complet map one domain raw byte target domain revers said differ challeng given arbitrarili chosen sequenc byte make text serial text use charset encod produc exact byte sequenc byte choos job possibl unfortun answer ye thu trivial prove byte byte fatal unless lucki byte happen includ anyth render mani decod take certain byte sequenc possibl appear convert text byte gener impli certain byte sequenc convert text via invalid take stab toss data glyph instead error whomev manag kafka server never got error act turn invalid wha symbol destruct charset encod make possibl commonli use one doubt one complet simpl map map everi byte valu way uniqu charact henc go day thu get fix surviv everyth design cost effici turn byte byte input larg turn larg output hand byte encod form kafka thing make kafka set everi chain link appli charset encod everywher byte turn char vice versa use hacki weird recommend might fix definit word fix properli point sure alreadi know ask faster solut way still process alreadi corrupt data first sentenc answer come provid transform revers yup correctli identifi key requir revers unfortun