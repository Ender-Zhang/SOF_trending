problem use process processbuild class java exist code work code execut junit test btw readallasstr method look like work fine handl scenario process exit normal sit wait input standard input tri add someth like problem start test sit wait forev never reach end inputstream readallasstr method probabl reach end stream block wait process write data note assumpt verifi debugg tri workaround ad destroy call like get except tri read data stream workaround proper way read data inputstream without block end avail data better way fix problem use expect stream reach eof case process still run case rewrit readallasstr method like work caveat input must current avail method read data inputstream current avail output written process readallasstr method call includ presum buffer pipe get full current linux system limit seem mib cat