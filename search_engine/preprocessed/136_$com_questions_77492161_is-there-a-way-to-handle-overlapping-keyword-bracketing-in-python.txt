suppos list keyword input string label section want code find keyword within section put insid squar bracket howev keyword sometim overlap keyword alpha alpha beta alpha beta charli alpha beta charli delta fix sort length longer keyword would priorit howev run code sometim would get doubl nest bracket assum still detect valid keyword tri mind line split anoth part handl multipl line want alpha alpha beta alpha beta charli alpha beta charli delta instead got alpha alpha beta alpha beta charli alpha beta charli delta join sort keyword altern pattern instead substitut string differ keyword time time potenti substitut replac string previou iter outpout solut work specif exampl though assum section string work order shortest slice longest slice solut get remov biggest slice string case beta charli delta second biggest onward append section list sort length lastli add squar brace element list add string code look maximum flexibl could consid make state machin warn realli go overkil award wo go detail state machin plenti resourc would cover much better would one give exampl python still rough rundown go exampl import thing take look defin dict state state collect trigger declar next state action taken transit state call iter word input use word creat trigger trigger exist current state move next state call action associ transit short allow handl complex input exampl compar output follow input use state machin approach regex approach find get right result regex pretti tricki section alpha alpha beta alpha beta charli alpha beta charli delta beta charli alpha alpha beta charli alpha delta beta alpha charli alpha beta charli anyway work exampl